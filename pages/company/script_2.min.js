page_script({init:function(){$.fn.editable.defaults.ajaxOptions={type:"POST"},$.fn.editable.defaults.type="text",$.fn.editable.defaults.pk=1,$.fn.editable.defaults.mode="inline",$.fn.editable.defaults.inputclass="form-control",$.fn.editable.defaults.url=location.href,$.fn.editable.defaults.onblur="submit",$(".editable").editable({params:function(a){return a.for="company",a}}),$(".seat_editable").editable({params:function(a){return a.for="seat",a}}),$(".product_editable").editable({params:function(a){return a.for="product",a}}),$(".service_editable").editable({params:function(a){return a.for="service",a}}),$(".map-canvas").each(function(){var a=new google.maps.LatLng($(this).attr("data-latitude"),$(this).attr("data-longitude")),b={scrollwheel:!1,zoom:13,center:a},c=new google.maps.Map($(this)[0],b),d=new google.maps.Marker({position:a});d.setMap(c)}),$("#new_product_modal form").submit(function(a){a.preventDefault();var b=$(this);$.ajax({url:location.href,type:"POST",data:$(b).serialize(),success:function(a){try{var c=JSON.parse(a);switch(c.status){case"success":var d=$("#new_product_template").clone();$(".name",d).text($("[name=name]",b).val()).attr("data-pk",c.id),$(".description",d).text($("[name=description]",b).val()).attr("data-pk",c.id),$(".price",d).text($("[name=price]",b).val()).attr("data-pk",c.id),$("#new_product_modal").modal("hide"),b[0].reset(),d.appendTo("#products_list").show(),$(".product_editable",d).editable({params:function(a){return a.for="product",a}});break;default:console.log(a)}}catch(e){console.log(a)}},error:function(a){console.log(a)}})}),$("#new_service_modal form").submit(function(a){a.preventDefault();var b=$(this);$.ajax({url:location.href,type:"POST",data:$(b).serialize(),success:function(a){try{var c=JSON.parse(a);switch(c.status){case"success":var d=$("#new_service_template").clone();$(".name",d).text($("[name=name]",b).val()).attr("data-pk",c.id),$(".description",d).text($("[name=description]",b).val()).attr("data-pk",c.id),$(".price",d).text($("[name=price]",b).val()).attr("data-pk",c.id),$("#new_service_modal").modal("hide"),b[0].reset(),d.appendTo("#services_list").removeAttr("id").show(),$(".service_editable",d).editable({params:function(a){return a.for="service",a}});break;default:console.log(a)}}catch(e){console.log(a)}},error:function(a){console.log(a)}})}),$(".product .delete").click(function(a){a.preventDefault();var b=$(this).parents(".product");$.ajax({url:location.href,type:"POST",data:{delete_product:b.attr("data-id")},success:function(a){try{var c=JSON.parse(a);switch(c.status){case"success":b.remove();break;default:console.log(a)}}catch(d){console.log(a)}},error:function(a){console.log(a)}})}),$(".service .delete").click(function(a){a.preventDefault();var b=$(this).parents(".service");$.ajax({url:location.href,type:"POST",data:{delete_service:b.attr("data-id")},success:function(a){try{var c=JSON.parse(a);switch(c.status){case"success":b.remove();break;default:console.log(a)}}catch(d){console.log(a)}},error:function(a){console.log(a)}})})}});