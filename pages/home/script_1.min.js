page_script({init:function(){$(".property-carousel").owlCarousel({items:4,itemsDesktop:[1199,5],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:[1,2],itemsMobile:false,navigation:true,navigationText:['<i class="fa fa-chevron-left"></i>','<i class="fa fa-chevron-right"></i>']});$("#search_form").submit(function(i){i.preventDefault();app.ajaxify(location.origin+"/search?q="+$(this).find(".query").val())});$("[data-displayin]").prependTo($("[data-displayin]").attr("data-displayin")).show();var b;var a=new google.maps.LatLngBounds();var c=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#f1b5c9"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#1e88e5"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#555555"}]}];var d={styles:c,scrollwheel:false,mapTypeId:"roadmap"};b=new google.maps.Map(document.getElementById("map_canvas"),d);var e=JSON.parse($("[name=map_elements]").val());var l=[];var f=new google.maps.InfoWindow(),h,g;for(g=0;g<e.length;g++){var j=new google.maps.LatLng(e[g].latitude,e[g].longitude);a.extend(j);h=new MarkerWithLabel({position:j,map:b,icon:" ",labelContent:'<i class="'+e[g].icon+'"></i>',labelAnchor:new google.maps.Point(20,20),labelClass:"labels"});google.maps.event.addListener(h,"click",(function(m,n){return function(){var i=$("<div>").append($("<img>",{src:e[n].image_url,style:"max-width:100%; max-height: 300px;"})).append($("<h3>",{text:e[n].title})).append($("<p>",{text:e[n].content})).append($("<hr>")).append($("<a>",{"class":"ajaxify",href:e[n].url,text:"Voir plus"}));f.setContent(i[0].innerHTML);f.open(b,m)}})(h,g));l.push(h);b.fitBounds(a)}var k=new MarkerClusterer(b,l)}});